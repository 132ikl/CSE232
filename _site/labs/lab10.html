<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lab 10</title>
    <link href="https://unpkg.com/@primer/css/dist/primer.css" rel="stylesheet">
    <style>
        body {
            overflow: -moz-scrollbars-none;
            -ms-overflow-style: none;
        }
        body::-webkit-scrollbar {
            width: 0!important;
        }
    </style>
</head>
<body class="py-2">
    <div class="markdown-body mx-auto" style="max-width: 1000px;">
        <nav class="UnderlineNav mb-3" aria-label="Foo bar">
    <div class="UnderlineNav-body">
        
            <a class="UnderlineNav-item" href="/CSE232-JEKYLL/index.html" >
                Home
            </a>
        
            <a class="UnderlineNav-item" href="/CSE232-JEKYLL/syllabus.html" >
                Syllabus
            </a>
        
            <a class="UnderlineNav-item" href="/CSE232-JEKYLL/lectures.html" >
                Lectures
            </a>
        
            <a class="UnderlineNav-item" href="/CSE232-JEKYLL/labs.html" >
                Labs
            </a>
        
            <a class="UnderlineNav-item" href="/CSE232-JEKYLL/setup.html" >
                Setup
            </a>
        
    </div>
    <div class="UnderlineNav-actions">
        <a class="btn btn-sm" href="https://piazza.com/" role="button" target="_blank">Piazza</a>
        <a class="btn btn-sm mr-2" href="https://class.mimir.io/" role="button" target="_blank">Mimir</a>
    </div>
</nav>
        <div class="border rounded-2 px-5 py-2 anim-fade-in">
            <h1 id="lab-10---more-on-classes">Lab 10 - More on Classes</h1>

<h2 id="compiler-options">Compiler Options</h2>

<p><code class="language-plaintext highlighter-rouge">g++</code> is a very complicated (but powerful) program. Technically, it is just an alias (alternate name) for <code class="language-plaintext highlighter-rouge">gcc</code>, which is the GNU C Compiler. <code class="language-plaintext highlighter-rouge">g++</code> (and <code class="language-plaintext highlighter-rouge">gcc</code>) have many options for determining how it should compile your program.</p>

<p><a href="https://gcc.gnu.org/onlinedocs/gcc-7.1.0/gcc/Invoking-GCC.html#Invoking-GCC">The full list of options can be found here</a>, but I’ll be pointing out the most important ones.</p>

<p>Here are the flags you should already be comfortable with:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">-c</code> - This flag instructs the compiler to compile all your .cpp files, but not link them together (see Week 01).</li>
  <li><code class="language-plaintext highlighter-rouge">-o filename</code> - This flag instructs the compiler to make a file named <code class="language-plaintext highlighter-rouge">filename</code> with the executable compiled program (instead of the default <code class="language-plaintext highlighter-rouge">a.out</code>).</li>
  <li><code class="language-plaintext highlighter-rouge">-Wall</code> - This flag instructs the compiler to warn about as many potential erroneous code elements as possible (useful for beginners).</li>
  <li><code class="language-plaintext highlighter-rouge">-std=c++17</code> - This instructs the compiler to use a particular version of the C++ language (you can use 11, 14, etc. in the place of 17).</li>
  <li><code class="language-plaintext highlighter-rouge">-g</code> - This flag instructs your compiler to include debugging information in the compiled program for use by <code class="language-plaintext highlighter-rouge">gdb</code>.</li>
</ul>

<p>And here are some new ones:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">-O1</code> - This flag enables various code optimizations that allow your program to run faster, without a large increase in time to compile.</li>
  <li><code class="language-plaintext highlighter-rouge">-O2</code> - This flag enables various code optimizations that allow your program to run faster, but may increase the time needed to compile.</li>
  <li><code class="language-plaintext highlighter-rouge">-O3</code> - This flag is similar to <code class="language-plaintext highlighter-rouge">-O2</code>, but with even more extreme optimizations and possibly very long compilations.</li>
  <li><code class="language-plaintext highlighter-rouge">-Ofast</code> - This flag is allows optimizations that aren’t necessarily allowed by the standards set forth by the C++ language committee. This is where experimental optimizations are used by those who want speed at all costs.</li>
  <li><code class="language-plaintext highlighter-rouge">-Os</code> - This flag instructs the compiler to optimize for size instead of speed. It is often useful if you need to run your program on embedded computers with limited memory.</li>
  <li><code class="language-plaintext highlighter-rouge">-Wextra</code> - This flag instructs the compiler to add additional warnings for bad code (even more than <code class="language-plaintext highlighter-rouge">-Wall</code>).</li>
  <li><code class="language-plaintext highlighter-rouge">-Wpedantic</code> - This flag instructs the compiler to add additional warnings for code that doesn’t comply with the strict C++ language definition (useful if you want your code to be compiled by other compilers).</li>
</ul>

<p>⭐ Copy-and-paste the following code into a file, and show your TA the output when you compile it with more warnings than what <code class="language-plaintext highlighter-rouge">-Wall</code> checks for.</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;iostream&gt;
</span><span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">;</span> <span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">add</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">,</span> <span class="kt">int</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">add</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="coding-assignment">Coding Assignment</h2>

<p>Today, we’re going to work on making our own classes with private data members and accessors. More specifically, we’ll be building a <code class="language-plaintext highlighter-rouge">Table</code> class, which will act as an abstraction of two-dimensional vectors (i.e., matrices).</p>

<h3 id="program-specifications">Program Specifications</h3>

<p><a href="../assets/downloads/lab10.zip">Download the starter code provided here.</a></p>

<p>The header for the Table class has the following private elements:</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">private:</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">long</span><span class="o">&gt;&gt;</span> <span class="n">t_</span><span class="p">;</span>    <span class="c1">// 2D vector of long</span>
    <span class="kt">long</span> <span class="n">width_</span><span class="p">;</span>                <span class="c1">// how wide is t_ (how many columns)</span>
    <span class="kt">long</span> <span class="n">height_</span><span class="p">;</span>               <span class="c1">// how high is t_ (how many rows)</span>
</code></pre></div></div>

<p>You are to implement the following methods:</p>

<p> </p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Table</span><span class="p">(</span><span class="kt">long</span> <span class="n">width</span><span class="p">,</span> <span class="kt">long</span> <span class="n">height</span><span class="p">,</span> <span class="kt">long</span> <span class="n">val</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div></div>

<p>Constructs a <code class="language-plaintext highlighter-rouge">Table</code> instance that is of shape <code class="language-plaintext highlighter-rouge">width</code> by <code class="language-plaintext highlighter-rouge">height</code>, where each element is filled by <code class="language-plaintext highlighter-rouge">val</code> (which is defaulted to 0).</p>

<p>Remember that <code class="language-plaintext highlighter-rouge">t_</code> is a <code class="language-plaintext highlighter-rouge">vector&lt;vector&lt;long&gt;&gt;</code>. You can only <code class="language-plaintext highlighter-rouge">push_back()</code> instances of <code class="language-plaintext highlighter-rouge">vector&lt;long&gt;</code> onto <code class="language-plaintext highlighter-rouge">t_</code>, and only instances of <code class="language-plaintext highlighter-rouge">long</code> onto <code class="language-plaintext highlighter-rouge">vector&lt;long&gt;</code>.</p>

<p> </p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">fill_random</span><span class="p">(</span><span class="kt">long</span> <span class="n">lo</span><span class="p">,</span> <span class="kt">long</span> <span class="n">hi</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">seed</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div></div>

<p>Sets every element of <code class="language-plaintext highlighter-rouge">t_</code> to a random number of type <code class="language-plaintext highlighter-rouge">long</code> bounded between <code class="language-plaintext highlighter-rouge">lo</code> and <code class="language-plaintext highlighter-rouge">hi</code> inclusively. <code class="language-plaintext highlighter-rouge">seed</code> sets the random number seed, which defaults to 0. <a href="https://diego.assencio.com/?index=6890b8c50169ef45b74db135063c227c">Use the technique described here</a> with a uniform distribution drawn from the MT19937 random number generator.</p>

<p>⭐ Show the TA when your <code class="language-plaintext highlighter-rouge">Table</code> class can execute the <code class="language-plaintext highlighter-rouge">fill_random()</code> method.</p>

<p> </p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">bool</span> <span class="n">set_value</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">row_num</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">col_num</span><span class="p">,</span> <span class="kt">long</span> <span class="n">val</span><span class="p">)</span>
</code></pre></div></div>

<p>Sets a particular element at location (<code class="language-plaintext highlighter-rouge">row_num</code>, <code class="language-plaintext highlighter-rouge">col_num</code>) to <code class="language-plaintext highlighter-rouge">val</code>. If <code class="language-plaintext highlighter-rouge">row_num</code> or <code class="language-plaintext highlighter-rouge">col_num</code> are out-of-range of the available <code class="language-plaintext highlighter-rouge">t_</code> indices, <code class="language-plaintext highlighter-rouge">set_value()</code> should return <code class="language-plaintext highlighter-rouge">false</code>. Otherwise, return <code class="language-plaintext highlighter-rouge">true</code> to signify a successful value set.</p>

<p> </p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">long</span> <span class="n">get_value</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">row_num</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">col_num</span><span class="p">)</span> <span class="k">const</span>
</code></pre></div></div>

<p>Returns the value at location (<code class="language-plaintext highlighter-rouge">row_num</code>, <code class="language-plaintext highlighter-rouge">col_num</code>) of <code class="language-plaintext highlighter-rouge">t_</code> if those two indices exist. If the indices are out-of-range of the available <code class="language-plaintext highlighter-rouge">t_</code> indices, throw an <code class="language-plaintext highlighter-rouge">out_of_range</code> error.</p>

<p> </p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">print_table</span><span class="p">(</span><span class="n">ostream</span> <span class="o">&amp;</span><span class="n">out</span><span class="p">)</span>
</code></pre></div></div>

<p>Prints the contents of <code class="language-plaintext highlighter-rouge">t_</code> in a “nice way” (as a square with rows and columns) to the <code class="language-plaintext highlighter-rouge">ostream</code> reference provided.</p>

<p> </p>

<p>The output of the main file should ultimately look like:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>0,0,0,0,0,
0,0,0,0,0,
0,0,0,0,0,
0,0,0,0,0,
0,0,0,0,0,

2,10,1,6,6,
1,7,5,9,10,
5,7,10,4,3,
5,8,7,6,3,
2,6,6,2,2,

Result:false

6
Correct!

100,10,1,6,6,
1,100,5,9,10,
5,7,100,4,3,
5,8,7,100,3,
2,6,6,2,100,
</code></pre></div></div>

<p>⭐ Show the TA your completed <code class="language-plaintext highlighter-rouge">Table</code> class.</p>

        </div>
    </div>
</body>
</html>